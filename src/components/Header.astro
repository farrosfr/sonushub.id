---
import { Image } from 'astro:assets';
import sonusHubLogo from '/public/logo.png';

const navLinks = [
  { name: "Beranda", href: "/" },
  { name: "Kategori", href: "/kategori" },
  { name: "Merk", href: "/merk" },
  { name: "Blog", href: "/blog" },
];
---

<header class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50">
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		<!-- Top Row -->
		<div class="flex items-center justify-between h-20 border-b dark:border-gray-700">
			<!-- Left Side: Logo & Search -->
			<div class="flex items-center">
				<div class="flex-shrink-0">
					<a href="/">
						<Image src={sonusHubLogo} alt="SonusHUB Logo" width={160} height={40} class="h-10 w-auto" loading="eager" />
					</a>
				</div>
				<div class="hidden md:block ml-10 relative">
					<input
						type="search"
						id="search-input-disabled"
						placeholder="Cari produk..."
						class="bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-full py-2 px-4 pl-10 w-80 focus:w-96 transition-all duration-300 dark:text-gray-200"
						readonly
					/>
					<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
						<svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
							<path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
						</svg>
					</div>
				</div>
			</div>

			<!-- Right Side: Auth & RFQ Buttons -->
			<div class="hidden md:flex items-center space-x-4">
				<button id="theme-toggle" type="button" aria-label="Toggle dark mode" class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none">
					<svg id="theme-toggle-dark-icon" class="hidden h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
					<svg id="theme-toggle-light-icon" class="hidden h-5 w-5" fill="currentColor" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M256,144c-61.75,0-112,50.25-112,112s50.25,112,112,112s112-50.25,112-112S317.75,144,256,144z M256,336    c-44.188,0-80-35.812-80-80c0-44.188,35.812-80,80-80c44.188,0,80,35.812,80,80C336,300.188,300.188,336,256,336z M256,112    c8.833,0,16-7.167,16-16V64c0-8.833-7.167-16-16-16s-16,7.167-16,16v32C240,104.833,247.167,112,256,112z M256,400    c-8.833,0-16,7.167-16,16v32c0,8.833,7.167,16,16,16s16-7.167,16-16v-32C272,407.167,264.833,400,256,400z M380.438,154.167    l22.625-22.625c6.25-6.25,6.25-16.375,0-22.625s-16.375-6.25-22.625,0l-22.625,22.625c-6.25,6.25-6.25,16.375,0,22.625    S374.188,160.417,380.438,154.167z M131.562,357.834l-22.625,22.625c-6.25,6.249-6.25,16.374,0,22.624s16.375,6.25,22.625,0    l22.625-22.624c6.25-6.271,6.25-16.376,0-22.625C147.938,351.583,137.812,351.562,131.562,357.834z M112,256    c0-8.833-7.167-16-16-16H64c-8.833,0-16,7.167-16,16s7.167,16,16,16h32C104.833,272,112,264.833,112,256z M448,240h-32    c-8.833,0-16,7.167-16,16s7.167,16,16,16h32c8.833,0,16-7.167,16-16S456.833,240,448,240z M131.541,154.167    c6.251,6.25,16.376,6.25,22.625,0c6.251-6.25,6.251-16.375,0-22.625l-22.625-22.625c-6.25-6.25-16.374-6.25-22.625,0    c-6.25,6.25-6.25,16.375,0,22.625L131.541,154.167z M380.459,357.812c-6.271-6.25-16.376-6.25-22.625,0    c-6.251,6.25-6.271,16.375,0,22.625l22.625,22.625c6.249,6.25,16.374,6.25,22.624,0s6.25-16.375,0-22.625L380.459,357.812z"></path></svg>
				</button>


			</div>
		</div>

		<!-- Bottom Row: Navigation -->
		<nav class="hidden md:flex items-center h-12">
			<div class="flex items-baseline space-x-8">
				{navLinks.map(link => (
					<a href={link.href} class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 text-sm font-medium transition-colors">{link.name}</a>
				))}
			</div>
		</nav>
	</div>
</header>

<script>
  // Search input placeholder
  const searchInput = document.getElementById('search-input-disabled');
  if (searchInput) {
    searchInput.addEventListener('click', () => {
      alert('Fitur pencarian canggih akan segera hadir!');
    });
  }

  // Theme toggle
	const themeToggleBtn = document.getElementById('theme-toggle');
	const darkIcon = document.getElementById('theme-toggle-dark-icon');
	const lightIcon = document.getElementById('theme-toggle-light-icon');

	// Set initial icon state
	if (document.documentElement.classList.contains('dark')) {
		lightIcon?.classList.remove('hidden');
	} else {
		darkIcon?.classList.remove('hidden');
	}

	themeToggleBtn?.addEventListener('click', () => {
		// toggle icons
		darkIcon?.classList.toggle('hidden');
		lightIcon?.classList.toggle('hidden');

		// if set via local storage previously
		if (localStorage.getItem('theme')) {
			if (localStorage.getItem('theme') === 'light') {
				document.documentElement.classList.add('dark');
				localStorage.setItem('theme', 'dark');
			} else {
				document.documentElement.classList.remove('dark');
				localStorage.setItem('theme', 'light');
			}
		// if NOT set via local storage previously
		} else {
			if (document.documentElement.classList.contains('dark')) {
				document.documentElement.classList.remove('dark');
				localStorage.setItem('theme', 'light');
			} else {
				document.documentElement.classList.add('dark');
				localStorage.setItem('theme', 'dark');
			}
		}
	});
</script>